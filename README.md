# smart-env

## Описание
Утилита для проверки переменных окружения с помощью json-schema

### Мотивация

> Store config in the environment

Одним из [12 факторов методологии](https://en.wikipedia.org/wiki/Twelve-Factor_App_methodology) является конфигурация, 
и он гласит, что переменные конфигурации лучше брать из окружения, но все переменные окружения это строки и каждый раз 
надо выполнять одни и те же  действия: 

- проверить значение переменной (задано или нет значение)
- преобразовать в нужный тип
- проверить на регулярное выражение, диапозон в общем на некий формат
- добавить в документацию описание переменных и для чего они нужны (для DevOps и/или других разработчиков)

> Каждый раз одно и тоже, но куда же это гоже

Суть идеи в том что есть утилита которая берет на себя автоматизацию вышеперечисленных действий. Утилита при запуске 
ищет файл конфигурации, далее идет проверка. В результате успешной проверки получаем json файл с уже конвертированными 
и проверенными значениями

## Возможности
 - загрузка файла конфигурации в форматах: yaml, yml
 - загрузка переменных окружения с файла
 - конвертация из строки, проверка на ограничения
 - сохранение результатов в файл

## Зависимости
 - ```go get -u github.com/urfave/cli```
 - ```go get -u gopkg.in/yaml.v2```
 - ```go get -u github.com/xeipuuv/gojsonschema```
 - ```go get -u github.com/joho/godotenv```
 
## Запуск через nodemon

Установка nodemon

```sh
npm install -g nodemon
```
Запуск

```sh
nodemon
```

Установка и запуск одной коммандой 

```sh
npm install -g nodemon && nodemon
```